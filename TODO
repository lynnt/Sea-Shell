TODO:
* Add a struct for redirection (including direction flag)
* Rewrite shell functions
